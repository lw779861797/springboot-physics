<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title></title>

    <!-- Favicon -->
    <link rel="shortcut icon" href="/static/assets/media/image/favicon.png"/>

    <!-- Plugin styles -->
    <link rel="stylesheet" href="/static/vendors/bundle.css" type="text/css">

    <!-- App styles -->
    <link rel="stylesheet" href="/static/assets/css/app.min.css" type="text/css">
</head>
<body>
<div class="navigation">

    <!-- begin::logo -->
    <div id="logo">

    </div>
    <div class="navigation-menu-body">
        <ul>
            <li class="navigation-divider">导航栏</li>
            <li class="open">
                <a href="/">
                    <!--<i class="nav-link-icon" data-feather="check-circle"></i>-->
                    <span>首页</span>
                </a>

            </li>
            <li>
                <a href="/login">
                    <!--<i class="nav-link-icon" data-feather="message-circle"></i>-->
                    <span>实验预约</span>
                    <!--<span class="badge badge-danger">2</span>-->
                </a>
            </li>
            <li>
                <a href="notgo">
                    <!--<i class="nav-link-icon" data-feather="mail"></i>-->
                    <span>成绩评定</span>
                    <!--<span class="badge badge-success">2</span>-->
                </a>
            </li>
            <li>
                <a href="notgo">
                    <!--<i class="nav-link-icon" data-feather="check-circle"></i>-->
                    <span>课表查询</span>
                    <!--<span class="badge badge-warning">2</span>-->
                </a>
            </li>
            <li>
                <a href="/queryLessonTeacher">
                    <!--<i class="nav-link-icon" data-feather="file"></i>-->
                    <span>任课教师</span>
                </a>
            </li>
            <li>
                <a href="">
                    <!--<i class="nav-link-icon" data-feather="calendar"></i>-->
                    <span>留言板</span>
                </a>
                <ul>
                    <li><a href="/queryAnswers">查看留言板</a></li>
                    <li><a href="/addAnswerLogin">发布留言</a></li>
                </ul>
            </li>
            <li>
                <a href="">
                    <!--<i class="nav-link-icon" data-feather="calendar"></i>-->
                    <span>投诉信箱</span>
                </a>
                <ul>
                    <li><a href="/queryComplaint">查看投诉信箱</a></li>
                    <li><a href="/addComplaintLoing">发布投诉</a></li>
                </ul>
            </li>
            <li>
                <a href="">
                    <!--<i class="nav-link-icon" data-feather="calendar"></i>-->
                    <span>失物招领</span>
                </a>
                <ul>
                    <li><a href="/queryGoodsLogin">查看失物招领</a></li>
                    <li><a href="/addGoodsLogin">发布失物招领</a></li>
                </ul>
            </li>
            <li>
                <a href="notgo">
                    <!--<i class="nav-link-icon" data-feather="check-circle"></i>-->
                    <span>素材下载</span>
                </a>
            </li>
            <li>
                <a href="notgo">
                    <!--<i class="nav-link-icon" data-feather="check-circle"></i>-->
                    <span>实验室简介</span>
                </a>
            </li>
            <li>
                <a href="notgo">
                    <!--<i class="nav-link-icon" data-feather="check-circle"></i>-->
                    <span>选课名单查询</span>
                </a>
            </li>
            <li>
                <a href="notgo">
                    <!--<i class="nav-link-icon" data-feather="check-circle"></i>-->
                    <span style="color: coral">教师通道</span>
                </a>
            </li>
        </ul>
    </div>
    <!-- end::navigation menu -->
</div>
<div id="main">

    <!-- begin::header -->
    <!---->
    <!-- end::header -->

    <!-- begin::main content -->
    <main class="main-content">

        <div class="container">

            <div class="page-header mb-5">
                <h4>修改个人密码</h4>
                <!--<small class="">Welcome, <span class="text-primary">Kenneth Hune</span></small>-->
            </div>

            <div class="row" style="min-height: 590px;">
                <div class="col-md-8">
                    <div class="card">
                        <div class="card-body p-50">
                                <div class="form-group">
                                    <label for="original_password">请输入旧密码</label>
                                    <input type="password"  name="name"  class="form-control" id="original_password"
                                           aria-describedby="emailHelp" placeholder="旧密码">
                                </div>
                                <div class="form-group">
                                    <label for="input_password1">请输入新密码</label>
                                    <input type="password" name="sex" class="form-control" id="input_password1"
                                           placeholder="新密码">
                                </div>
                                <div class="form-group">
                                    <label for="input_password2">请重复输入新密码</label>
                                    <input type="password" name="addr" class="form-control" id="input_password2"
                                           placeholder="重复输入新密码" >
                                </div>
                                <button type="submit" class="btn btn-primary" style="margin-left: 40%" onclick="updatePassWord()">确定修改</button>
                        </div>
                    </div>
                </div>
            </div>
            <a href="/listCourse"><button type="button" class="btn btn-info">返回</button></a>
        </div>

    </main>
    <!-- end::main content -->
</div>

<script src="/static/vendors/bundle.js"></script>

<!-- Chartjs -->
<script src="/static/vendors/charts/chartjs/chart.min.js"></script>

<!-- Circle progress -->
<script src="/static/vendors/circle-progress/circle-progress.min.js"></script>

<!-- Dashboard scripts -->
<script src="/static/assets/js/examples/dashboard.js"></script>
<div class="colors"> <!-- To use theme colors with Javascript -->
    <div class="bg-primary"></div>
    <div class="bg-primary-bright"></div>
    <div class="bg-secondary"></div>
    <div class="bg-secondary-bright"></div>
    <div class="bg-info"></div>
    <div class="bg-info-bright"></div>
    <div class="bg-success"></div>
    <div class="bg-success-bright"></div>
    <div class="bg-danger"></div>
    <div class="bg-danger-bright"></div>
    <div class="bg-warning"></div>
    <div class="bg-warning-bright"></div>
</div>
<script>
    function updatePassWord() {
        var original_password=document.getElementById('original_password').value;
        var input_password1=document.getElementById('input_password1').value;
        var input_password2=document.getElementById('input_password2').value;
        if(original_password.length != 6 || !(/^\d+$/.test(original_password))){
            alert("密码为6位的数字组成");
            location.reload(true);
            return;
        }
        if(input_password1.length != 6 || !(/^\d+$/.test(input_password1))){
            alert("密码为6位的数字组成");
            location.reload(true);
            return;
        }
        if(input_password1.trim() != input_password2.trim()){
            alert("俩次输出的密码不相等");
            location.reload(true);
            return;
        }
        $.post(
            '/updatePassWord',
            {'original_password':original_password,'input_password1':input_password1,'input_password2':input_password2},
            function (result) {
                if(result == "1"){
                    alert("修改成功");
                }else if (result == "2"){
                    alert("密码格式错误");
                }else {
                    alert("密码错误");
                }
                window.location.href = "/base";
                window.event.returnValue=false;
            }
        );
    };
</script>
<!-- App scripts -->
<script src="/static/assets/js/app.min.js"></script>
</body>
</html>